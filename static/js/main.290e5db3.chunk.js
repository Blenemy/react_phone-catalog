(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{27:function(e,t,c){},36:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var a=c(28),n=c.n(a),s=c(7),r=c(8),i=c(3),o=c(5),l=c.n(o),d=c(1),j=c.n(d),u=c(4),b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAYCAYAAACIhL/AAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKySURBVHgB7VWxctpAEN09bHCoaBJE4kxwl85SMhh3wX+AvyBQpgL/AZSpgv8AynSkcxeqjCFjOJepIheekE5lmAza7ElIOiGUTIoUmdGbuZnj7und7du9BSBDhgwZ/inQtOof/Rk4cj493yZYlnVMmO8CQQMRqkTkMFkC0VDK2UjnmqZZBVHoMLf5t1y1RgSTbS5aL+q0mduL+fQoLlLroBADSIEvuDqXUjpeILA/QcTSTi64Azn/fOHrnrxmQwapXAIOanWmdHOVymFvs+4sv91fRs6dHPPlxtpnDiBes7DNP6pedCpyFAdG+dEXwMIVH2ikcgFPjcoTMMoP71DsqUAOAi7rXDF/qekagLnnfJ/3e5DmDuAAwzmNwS22pZw4ngMv6x0kGPgHiy47ZwdpYtjkFq3dXOiSyJvhIQiS1sWzRcBlZ1HgcBNQ07Jqr0TaBfnARjinvW5woIK8mV566Q32tTIgsW4nuHk88oew+JKhLri5ZozLtcf1No60wNzpoGmeVpVvgSOLxae7ZARe+pLL6/xXX6PW4Zt3vcUVaYSo7nbqAkkmNf0plnY6KOW17dWRjyq/uGQxU5hS0LiMn/66wJJK+/bQJVSdJ3QBIw6Sk5piIm4PAUThnb7n1YpWAlyvUVpADPhFP5PzWZ+7AgK5De1Tm70cat8N9eBVzXEJtML7uftjvc2o521rYup1mbE9ZPsJq7F14AfgrvooVGr99G101CjFuEgtdLmFYBT8b3SH3JfbMQdjqVAvDKgX2+Pa0EWYMwH3QV/1K9XIN5cKdBrxA6knb2ajxWJ2Sy61/qArWdfrmbnK48OGV/CJ4U64sb41yk9H/LvE1it3SkGPYzfUgRfLpf1DCS2X99+Z+8Hj+v3JCLkC2/yaw38H5t6GuttcX/dNoJshQ4b/Hb8AfRtUwmKpBawAAAAASUVORK5CYII=",m=(c(36),c(0)),p=function(){return Object(m.jsx)("footer",{className:"footer",children:Object(m.jsxs)("div",{className:"footer__container",children:[Object(m.jsx)("div",{className:"footer__logo-link",children:Object(m.jsx)("a",{className:"footer__link",href:"/",children:Object(m.jsx)("img",{src:b,alt:""})})}),Object(m.jsxs)("div",{className:"footer__links",children:[Object(m.jsx)("a",{className:"footer__link",href:"https://github.com/mate-academy",children:"Github"}),Object(m.jsx)("a",{className:"footer__link",href:"/",children:"Contacts"}),Object(m.jsx)("a",{className:"footer__link",href:"/",children:"Rights"})]}),Object(m.jsx)("div",{className:"footer__back-to-top",children:Object(m.jsx)("a",{className:"footer__link_back-to-top",href:"/",onClick:function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Back to top"})})]})})},O=c(11),h=c.n(O);var _=c.p+"static/media/favourites.3639e3e4.svg",g=c.p+"static/media/Cart.08d4be14.svg",x=(c(38),function(){var e=Object(s.d)(),t=Object(i.a)(e,2),c=t[0],a=t[1],n=Object(u.l)(),r=c.get("query"),o=Object(d.useState)(r||""),l=Object(i.a)(o,2),j=l[0],p=l[1],O=Object(d.useState)(0),x=Object(i.a)(O,2),f=x[0],v=x[1],N=Object(d.useState)(0),y=Object(i.a)(N,2),A=y[0],S=y[1],k="/favourites"===n.pathname||"/phones"===n.pathname||"/tablets"===n.pathname||"/accessories"===n.pathname,C=function(e){p(e);var t=function(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];null===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,e)}))):c.set(a,n)})),c.toString()}(c,{query:e||null});a(new URLSearchParams(t))};return Object(d.useEffect)((function(){var e=function(){var e=localStorage.getItem("favourites"),t=localStorage.getItem("cart");null!==e&&v(JSON.parse(e).length),null!==t&&S(JSON.parse(t).length)};return e(),window.addEventListener("favouritesUpdated",e),window.addEventListener("cartUpdated",e),function(){window.removeEventListener("favouritesUpdated",e),window.removeEventListener("cartUpdated",e)}}),[]),Object(m.jsx)("header",{className:"homepage-header",children:Object(m.jsxs)("nav",{className:"header-navigation navigation-header",children:[Object(m.jsx)("div",{className:"navigation-header__left",children:Object(m.jsxs)("ul",{className:"navigation-header__list_left",children:[Object(m.jsx)("li",{className:"navigation-header__item logo",children:Object(m.jsx)(s.b,{to:"/",className:"navigation-header__link",children:Object(m.jsx)("img",{className:"navigation-header__image",src:b,alt:"logo"})})}),Object(m.jsx)("li",{className:"navigation-header__item_l",children:Object(m.jsx)(s.c,{to:"/",className:function(e){var t=e.isActive;return h()("navigation-header__link",{"is-active-link":t})},children:"Home"})}),Object(m.jsx)("li",{className:"navigation-header__item_l",children:Object(m.jsx)(s.c,{to:"/phones",className:function(e){var t=e.isActive;return h()("navigation-header__link",{"is-active-link":t})},children:"Phones"})}),Object(m.jsx)("li",{className:"navigation-header__item_l",children:Object(m.jsx)(s.c,{to:"/tablets",className:function(e){var t=e.isActive;return h()("navigation-header__link",{"is-active-link":t})},children:"Tablets"})}),Object(m.jsx)("li",{className:"navigation-header__item_l",children:Object(m.jsx)(s.c,{to:"/accessories",className:function(e){var t=e.isActive;return h()("navigation-header__link",{"is-active-link":t})},children:"Accessories"})})]})}),Object(m.jsx)("div",{className:"navigation-header__right",children:Object(m.jsxs)("ul",{className:"navigation-header__list_right",children:[k&&Object(m.jsxs)("li",{className:h()({"navigation-header__item":!0,"navigation-header__item_input":!0}),children:[Object(m.jsx)("input",{"data-cy":"NameFilter",type:"text",className:"navigation-header__input",placeholder:"Search in phones...",value:j,onChange:function(e){C(e.target.value)}}),j&&Object(m.jsx)("button",{type:"button",className:"navigation-header__clear-button",onClick:function(){p(""),c.delete("query"),a(new URLSearchParams(c.toString()))},children:"\xd7"})]}),Object(m.jsxs)("li",{className:"navigation-header__item",children:[Object(m.jsx)(s.b,{to:"/favourites",className:"navigation-header__link",children:Object(m.jsx)("img",{className:"navigation-header__image",src:_,alt:"favorites"})}),Object(m.jsx)("div",{className:"navigation-header__count",children:f})]}),Object(m.jsxs)("li",{className:"navigation-header__item",children:[Object(m.jsx)(s.b,{to:"/cart",className:"navigation-header__link",children:Object(m.jsx)("img",{className:"navigation-header__image",src:g,alt:"cart"})}),Object(m.jsx)("div",{className:"navigation-header__count",children:A})]})]})})]})})}),f=c(9),v=c(13),N=(c(39),"https://mate-academy.github.io/react_phone-catalog/_new/products.json"),y="https://mate-academy.github.io/react_phone-catalog/_new/";function A(e){return new Promise((function(t){return setTimeout(t,e)}))}function S(e){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(500).then((function(){return fetch(t)})).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return w.apply(this,arguments)}function w(){return(w=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(500).then((function(){return fetch(t)})).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(e,t){return Object.entries(t).forEach((function(t){var c=Object(i.a)(t,2),a=c[0],n=c[1];e.set(a,n)})),new URLSearchParams(e.toString())},E=function(e,t){switch(t){case"age":return Object(f.a)(e).sort((function(e,t){return+t.year-+e.year}));case"price":return Object(f.a)(e).sort((function(e,t){return e.price-t.price}));case"name":return Object(f.a)(e).sort((function(e,t){return e.name.localeCompare(t.name)}));default:return e}},P=c.p+"static/media/favourites-added.d1cb0efa.svg",L=function(e){var t=e.card,c=Object(d.useState)(!1),a=Object(i.a)(c,2),n=a[0],r=a[1],o=Object(d.useState)(!1),l=Object(i.a)(o,2),j=l[0],u=l[1];Object(d.useEffect)((function(){var e=localStorage.getItem("favourites"),c=e?JSON.parse(e):[];u(c.some((function(e){return e.id===t.id})));var a=localStorage.getItem("cart"),n=a?JSON.parse(a):[];r(n.some((function(e){return e.id===t.id})))}),[t]);return Object(m.jsxs)("div",{"data-cy":"cardsContainer",className:"card",children:[Object(m.jsx)(s.b,{to:"/phones/".concat(t.itemId),className:"card__image",children:Object(m.jsx)("img",{src:y+t.image,alt:t.name,className:"card__img"})}),Object(m.jsxs)("div",{className:"card__body",children:[Object(m.jsx)("div",{className:"card__title",children:t.name}),Object(m.jsxs)("div",{className:"card__prices prices",children:[Object(m.jsxs)("div",{className:"prices__discount",children:["$",t.price]}),Object(m.jsxs)("div",{className:"prices__full-price",children:["$",t.fullPrice]})]}),Object(m.jsxs)("div",{className:"card__description",children:[Object(m.jsxs)("div",{className:"card__screen card-screen",children:[Object(m.jsx)("div",{className:"card-screen__left",children:"Screen:"}),Object(m.jsx)("div",{className:"card-screen__right",children:t.screen})]}),Object(m.jsxs)("div",{className:"card__capacity card-capacity",children:[Object(m.jsx)("div",{className:"card-capacity__left",children:"Capacity:"}),Object(m.jsx)("div",{className:"card-capacity__right",children:t.capacity})]}),Object(m.jsxs)("div",{className:"card__ram card-ram",children:[Object(m.jsx)("div",{className:"card-ram__left",children:"RAM:"}),Object(m.jsx)("div",{className:"card-ram__right",children:t.ram})]})]})]}),Object(m.jsxs)("div",{className:"card__footer",children:[Object(m.jsx)("button",{type:"button",className:h()({card__button:!0,"card-button-template":!0,"is-active":n}),onClick:function(e){null===e||void 0===e||e.preventDefault();var c=localStorage.getItem("cart"),a=c?JSON.parse(c):[];a.some((function(e){return e.id===t.id}))||(a.push(Object(v.a)(Object(v.a)({},t),{},{quantity:1})),r(!0)),localStorage.setItem("cart",JSON.stringify(a)),window.dispatchEvent(new Event("cartUpdated"))},children:n?"Added to cart":"Add to cart"}),Object(m.jsx)("button",{type:"button",className:"card-button-template__like",onClick:function(){var e=localStorage.getItem("favourites"),c=e?JSON.parse(e):[],a=c.findIndex((function(e){return e.id===t.id}));-1===a?(c.push(t),u(!0)):(c.splice(a,1),u(!1)),localStorage.setItem("favourites",JSON.stringify(c)),window.dispatchEvent(new Event("favouritesUpdated"))},"data-cy":"addToFavorite",children:Object(m.jsx)("img",{src:j?P:_,style:{backgroundColor:"#fff"},alt:"favourite",className:"card-button-template__favourite"})})]})]})},J=(c(40),j.a.memo((function(e){var t=e.title,c=e.products,a=Object(d.useState)(0),n=Object(i.a)(a,2),s=n[0],r=n[1],o=Object(d.useState)(0),l=Object(i.a)(o,2),j=l[0],u=l[1],b=c.length;return Object(m.jsxs)("div",{className:"product__slider",children:[Object(m.jsxs)("div",{className:"product__header",children:[Object(m.jsx)("div",{className:"product__title",children:t}),Object(m.jsxs)("div",{className:"product__buttons",children:[Object(m.jsx)("button",{type:"button",className:"product__prev product__button",onClick:function(){j>0&&(u(j-1),r(s+288))},children:"<"}),Object(m.jsx)("button",{type:"button",className:"product__next product__button",onClick:function(){j<b-4&&(u(j+1),r(s-288))},children:">"})]})]}),Object(m.jsx)("div",{className:"product__slider-container",children:Object(m.jsx)("div",{className:"product__row",style:{transform:"translateX(".concat(s,"px)"),transition:"transform ease-out 0.45s"},children:c.map((function(e){return Object(m.jsx)(L,{card:e},e.id)}))})})]})}))),M=c.p+"static/media/phones-banner.76a1b179.png",U=c.p+"static/media/tablets-banner.3131a36e.png",B=c.p+"static/media/accessories-banner.f97da0dc.png",T=(c(41),function(e){var t=e.products,c=Object(f.a)(t).filter((function(e){return"phones"===e.category})),a=Object(f.a)(t).filter((function(e){return"tablets"===e.category})),n=Object(f.a)(t).filter((function(e){return"accessories"===e.category}));return Object(m.jsx)("div",{"data-cy":"categoryLinksContainer",className:"shop-category",children:Object(m.jsxs)("div",{className:"shop-category__container",children:[Object(m.jsx)("div",{className:"shop-category__title",children:"Shop by category"}),Object(m.jsxs)("div",{className:"shop-category__row",children:[Object(m.jsxs)("div",{className:"shop-category__item item-shop-category",children:[Object(m.jsx)(s.b,{to:"/phones",className:"item-shop-category__image",children:Object(m.jsx)("img",{src:M,alt:"BannerImage",className:"item-shop-category__img"})}),Object(m.jsxs)("div",{className:"item-shop-category__body",children:[Object(m.jsx)("div",{className:"item-shop-category__title",children:"Mobile phones"}),Object(m.jsxs)("div",{className:"item-shop-category__description",children:[c.length," ","models"]})]})]}),Object(m.jsxs)("div",{className:"shop-category__item item-shop-category",children:[Object(m.jsx)(s.b,{to:"/tablets",className:"item-shop-category__image",children:Object(m.jsx)("img",{src:U,alt:"TabletsBannerImage",className:"item-shop-category__img"})}),Object(m.jsxs)("div",{className:"item-shop-category__body",children:[Object(m.jsx)("div",{className:"item-shop-category__title",children:"Tablets"}),Object(m.jsxs)("div",{className:"item-shop-category__description",children:[a.length," ","models"]})]})]}),Object(m.jsxs)("div",{className:"shop-category__item item-shop-category",children:[Object(m.jsx)(s.b,{to:"/accessories",className:"item-shop-category__image",children:Object(m.jsx)("img",{src:B,alt:"AccessoriesBannerImage",className:"item-shop-category__img"})}),Object(m.jsxs)("div",{className:"item-shop-category__body",children:[Object(m.jsx)("div",{className:"item-shop-category__title",children:"Accessories"}),Object(m.jsxs)("div",{className:"item-shop-category__description",children:[n.length," ","models"]})]})]})]})]})})}),q=function(e){var t=e.products,c=Object(d.useMemo)((function(){return Object(f.a)(t).sort((function(e,t){return t.fullPrice-t.price-(e.fullPrice-e.price)}))}),[t]),a=Object(d.useMemo)((function(){return Object(f.a)(t).sort((function(e,t){return t.price-e.price}))}),[t]);return Object(m.jsxs)("main",{className:"product-showcase",children:[Object(m.jsx)(J,{products:c,title:"Hot prices"}),Object(m.jsx)(T,{products:t}),Object(m.jsx)(J,{products:a,title:"Brand new models"})]})},F=(c(42),function(){var e=Object(d.useState)(0),t=Object(i.a)(e,2),c=t[0],a=t[1],n=["".concat(y,"img/banner-phones.png"),"".concat(y,"img/banner-tablets.png"),"".concat(y,"img/banner-accessories.png")];return Object(d.useEffect)((function(){var e=setInterval((function(){a((function(e){return 2===e?0:e+1}))}),5e3);return function(){clearInterval(e)}}),[c]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("section",{className:"main-slider",children:[Object(m.jsx)("button",{type:"button",className:"main-slider__button slider__button_l",onClick:function(){a((function(e){return 0===e?2:e-1}))},children:"<"}),Object(m.jsx)("div",{className:"main-slider__container",children:Object(m.jsx)("ul",{className:"main-slider__list",children:n.map((function(e,t){return Object(m.jsx)("li",{className:h()("main-slider__item",{active:t===c}),children:Object(m.jsx)("img",{src:e,alt:"",className:"main-slider__img"})},e)}))})}),Object(m.jsx)("button",{type:"button",className:"main-slider__button main-slider__button_r",onClick:function(){a((function(e){return 2===e?0:e+1}))},children:">"}),Object(m.jsx)("div",{className:"main-slider__indicators",children:n.map((function(e,t){return Object(m.jsx)("button",{type:"button",className:h()("main-slider__count",{active:t===c}),onClick:function(){return a(t)}},e)}))})]})})}),R=function(e){var t=e.products;return Object(m.jsxs)("main",{className:"homepage",children:[Object(m.jsx)(F,{}),Object(m.jsx)(q,{products:t})]})},D=c.p+"static/media/Home.e110292a.svg",Q=(c(43),function(e){var t=e.productName,c=e.productType;return Object(m.jsxs)("div",{"data-cy":"breadCrumbs",className:"phones-page__indicator indicator-name",children:[Object(m.jsx)("div",{className:"indicator-name__image",children:Object(m.jsx)(s.b,{to:"/",children:Object(m.jsx)("img",{src:D,alt:"home",className:"indicator-name__img"})})}),Object(m.jsx)("div",{className:"indicator-name__arrow",children:"<"}),Object(m.jsx)(s.b,{to:"/".concat(c.toLowerCase()),className:"indicator-name__title",children:c}),t&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"indicator-name__arrow",children:"<"}),Object(m.jsx)("div",{className:"indicator-name__title",children:t})]})]})}),V=function(e){var t=e.text,c=e.value;return Object(m.jsxs)("div",{className:"product-details-description__text-container",children:[Object(m.jsx)("div",{className:"description-text-template",children:t}),Object(m.jsx)("div",{className:"description-value-template",children:c})]})},H=j.a.createContext([]),X=function(e){var t=e.productInfo,c=e.selectedCapacity,a=e.setSelectedCapacity,n=e.products,s=Object(d.useState)(!1),r=Object(i.a)(s,2),o=r[0],l=r[1],j=Object(d.useState)(!1),u=Object(i.a)(j,2),b=u[0],p=u[1],O=Object(d.useState)(y+t.images[0]),g=Object(i.a)(O,2),x=g[0],f=g[1],N=n.find((function(e){return e.phoneId===t.id})),A=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]};return Object(d.useEffect)((function(){f(y+t.images[0]);var e=n.find((function(e){return e.phoneId===t.id}));if(e){var c=A("favourites");p(c.some((function(t){return t.id===e.id})));var a=A("cart");l(a.some((function(t){return t.id===e.id})))}}),[t,n]),Object(m.jsxs)("section",{className:"product-info__row",children:[Object(m.jsx)("div",{className:" product-info__column product-details product-info__column_small ",children:t.images.map((function(e){return Object(m.jsx)("div",{className:"product-details__image",children:Object(m.jsx)("button",{type:"button",className:"product-details__image-link",onClick:function(t){return function(e,t){null===e||void 0===e||e.preventDefault(),f(t)}(t,y+e)},children:Object(m.jsx)("img",{src:y+e,alt:"ProductSmallImage",className:"product-details__small-img"})})},e)}))}),Object(m.jsx)("div",{className:"product-info__column",children:Object(m.jsx)("div",{className:"product-info__main-image",children:Object(m.jsx)("div",{className:"product-info__main-image-link",children:Object(m.jsx)("img",{src:x,alt:"MainProductImage",className:"product-info__main-img"})})})}),Object(m.jsxs)("div",{className:"product-info__column product-details-description",children:[Object(m.jsx)("div",{className:"product-details-description__subtitle",children:"Available colors"}),Object(m.jsx)("div",{className:"product-details-description__colors",children:t.colorsAvailable.map((function(e){return Object(m.jsx)("div",{className:"product-details-description__color",style:{backgroundColor:e}},e)}))}),Object(m.jsx)("div",{className:"product-details-description__subtitle",children:"Select capacity"}),Object(m.jsx)("div",{className:"product-details-description__capacity",children:t.capacityAvailable.map((function(e){return Object(m.jsx)("button",{type:"button",className:h()("product-details-description__capacity-available",{"active-capacity":c===e}),onClick:function(){return a(e)},children:e},e)}))}),Object(m.jsxs)("div",{className:"prices",children:[Object(m.jsxs)("div",{className:"prices__discount",children:["$",t.priceDiscount]}),Object(m.jsxs)("div",{className:"prices__full-price",children:["$",t.priceRegular]})]}),Object(m.jsxs)("div",{className:"product-details-description__footer",children:[Object(m.jsx)("button",{type:"button",className:h()({"card-button-template":!0,"product-details-description__card":!0,"is-active":o}),onClick:function(){var e=localStorage.getItem("cart"),t=e?JSON.parse(e):[];N&&!t.some((function(e){return e.id===N.id}))&&(t.push(Object(v.a)(Object(v.a)({},N),{},{quantity:1})),l(!0),localStorage.setItem("cart",JSON.stringify(t)),window.dispatchEvent(new Event("cartUpdated")))},children:o?"Added to cart":"Add to cart"}),Object(m.jsx)("button",{type:"button",className:"card-button-template__like",onClick:function(){var e=localStorage.getItem("favourites"),c=e?JSON.parse(e):[],a=n.find((function(e){return e.phoneId===t.id}));if(a){var s=c.findIndex((function(e){return e.id===a.id}));-1===s?(c.push(a),p(!0)):(c.splice(s,1),p(!1)),localStorage.setItem("favourites",JSON.stringify(c)),window.dispatchEvent(new Event("favouritesUpdated"))}},style:{backgroundColor:"#fff"},children:Object(m.jsx)("img",{src:b?P:_,alt:"ProductImage",className:"card-button-template__favourite"})})]}),Object(m.jsx)(V,{text:"Screen",value:t.screen}),Object(m.jsx)(V,{text:"Resolution",value:t.resolution}),Object(m.jsx)(V,{text:"Processor",value:t.processor}),Object(m.jsx)(V,{text:"RAM",value:t.ram})]}),Object(m.jsxs)("div",{className:" product-info__column product-details product-info__column_small ",children:["ID:"," ",t.id]})]})},Y=(c(44),function(){return Object(m.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(m.jsx)("div",{className:"Loader__content"})})}),Z=function(){var e=Object(u.n)();return Object(m.jsxs)("div",{className:"product-info__back back-to-page",children:[Object(m.jsx)("button",{type:"button",onClick:function(){return e(-1)},className:"back-to-page__link","data-cy":"backButton",children:"<"}),Object(m.jsx)("button",{type:"button",onClick:function(){return e(-1)},className:"back-to-page__link","data-cy":"backButton",children:"Back"})]})},W=(c(45),function(e){var t=e.products,c=Object(d.useState)(),a=Object(i.a)(c,2),n=a[0],s=a[1],o=Object(d.useState)(),b=Object(i.a)(o,2),p=b[0],O=b[1],h=Object(d.useState)(!0),_=Object(i.a)(h,2),g=_[0],x=_[1],f=Object(u.p)().productId;return Object(d.useEffect)((function(){function e(){return(e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,S("".concat(y,"products/").concat(f,".json"));case 4:t=e.sent,s(t),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Data could not be fetched");case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f]),n?Object(m.jsx)("main",{className:"product-info",children:g?Object(m.jsx)(Y,{}):Object(m.jsxs)("div",{className:"product-info__container",children:[Object(m.jsx)(Q,{productName:n.name,productType:"Phones"}),Object(m.jsx)(Z,{}),Object(m.jsx)("div",{className:"product-info__title",children:n.name}),Object(m.jsx)(X,{productInfo:n,selectedCapacity:p,setSelectedCapacity:O,products:t}),Object(m.jsx)("section",{"data-cy":"productDescription",className:"product-info__about about-product",children:Object(m.jsxs)("div",{className:"about-product__row",children:[Object(m.jsxs)("div",{className:"about-product__column column-product-about",children:[Object(m.jsx)("div",{className:"column-product-about__title",children:"About"}),n.description.map((function(e){return Object(m.jsxs)(j.a.Fragment,{children:[Object(m.jsx)("div",{className:"about-product__title",children:e.title}),Object(m.jsx)("div",{className:"about-product__text",children:e.text})]},e.title)}))]}),Object(m.jsxs)("div",{className:"about-product__column column-product-about",children:[Object(m.jsx)("div",{className:"column-product-about__title",children:"Tech specs"}),Object(m.jsx)(V,{text:"Screen",value:n.screen}),Object(m.jsx)(V,{text:"Resolution",value:n.resolution}),Object(m.jsx)(V,{text:"Processor",value:n.processor}),Object(m.jsx)(V,{text:"RAM",value:n.ram}),Object(m.jsx)(V,{text:"Built in memory",value:n.capacity}),Object(m.jsx)(V,{text:"Camera",value:n.camera}),Object(m.jsx)(V,{text:"Zoom",value:n.zoom}),Object(m.jsx)(V,{text:"Cell",value:n.cell.join(" ")})]})]})}),Object(m.jsx)(H.Consumer,{children:function(e){return Object(m.jsx)(J,{title:"You may also like",products:e.sort((function(){return Math.random()-.5}))})}})]})}):g?Object(m.jsx)(Y,{}):Object(m.jsx)("div",{children:"somewthing went wrong"})}),K=(c(46),c(47),function(e){var t=e.category;return"cart"===t?Object(m.jsx)("div",{className:"results-not-found",children:"Your cart is empty"}):Object(m.jsxs)("div",{className:"results-not-found",children:[t," ","not found"]})}),G=function(){var e=localStorage.getItem("favourites"),t=e?JSON.parse(e):[],c=Object(d.useState)(t),a=Object(i.a)(c,1)[0],n=Object(s.d)(),r=Object(i.a)(n,1)[0].get("query"),o=a.filter((function(e){return null===r||""===r||e.name.toLowerCase().includes(r.toLowerCase())}));return Object(m.jsx)("main",{className:"phones-page",children:Object(m.jsxs)("div",{className:"phones-page__container",children:[Object(m.jsx)(Q,{productType:"Favourites"}),Object(m.jsx)("div",{className:"phones-page__title",children:"Favourites"}),Object(m.jsxs)("div",{className:"phones-page__subtitle",children:[o.length," ","models"]}),o.length>0?Object(m.jsx)("div",{className:"phones-page__row",children:o.map((function(e){return Object(m.jsx)(L,{card:e},e.id)}))}):Object(m.jsx)(K,{category:"favourites"})]})})},z=c(30),$=c(29),ee=(c(50),function(e){var t=e.phone,c=e.handleDeleteClick,a=e.updateCart,n=t.image,s=t.name,r=t.price,o=t.quantity,l=Object(d.useState)(o||1),j=Object(i.a)(l,2),u=j[0],b=j[1];return Object(d.useEffect)((function(){var e=localStorage.getItem("cart"),c=(e?JSON.parse(e):[]).map((function(e){return e.id===t.id?Object(v.a)(Object(v.a)({},e),{},{quantity:u}):e}));localStorage.setItem("cart",JSON.stringify(c)),a(c)}),[u]),Object(m.jsx)("div",{className:"column-cart-description",children:Object(m.jsxs)("div",{className:"column-cart-description__content",children:[Object(m.jsx)("button",{type:"button",className:"column-cart-description__close",onClick:function(){return c(s)},"data-cy":"cartDeleteButton",children:Object(m.jsx)("div",{className:"fa-icon__cross",children:Object(m.jsx)(z.a,{icon:$.a})})}),Object(m.jsx)("div",{className:"column-cart-description__image",children:Object(m.jsx)("img",{src:y+n,alt:"PhoneImage",className:"column-cart-description__img"})}),Object(m.jsx)("div",{className:"column-cart-description__title",children:s}),Object(m.jsxs)("div",{className:"column-cart-description__add-buttons",children:[Object(m.jsx)("button",{type:"button",className:h()({"column-cart-description__button":!0,"column-cart-description_remove":!0}),onClick:function(){u>1&&b((function(e){return e-1}))},children:"-"}),Object(m.jsx)("div",{className:"column-cart-description__count",children:u}),Object(m.jsx)("button",{type:"button",className:h()({"column-cart-description__button":!0,"column-cart-description_add":!0}),onClick:function(){u>=1&&b((function(e){return e+1}))},children:"+"})]}),Object(m.jsxs)("div",{className:"column-cart-description__price",children:["$",r*u]})]})})}),te=(c(51),function(){var e=Object(d.useState)(0),t=Object(i.a)(e,2),c=t[0],a=t[1],n=Object(d.useState)(0),s=Object(i.a)(n,2),r=s[0],o=s[1],l=Object(d.useState)([]),j=Object(i.a)(l,2),u=j[0],b=j[1],p=Object(d.useState)(!1),O=Object(i.a)(p,2),_=O[0],g=O[1],x=null;Object(d.useEffect)((function(){var e=localStorage.getItem("cart"),t=e?JSON.parse(e):[];b(t)}),[]);var f=function(e){b(e),localStorage.setItem("cart",JSON.stringify(e)),function(e){var t=e.reduce((function(e,t){return e+t.price*(t.quantity||1)}),0),c=e.reduce((function(e,t){return e+(t.quantity||1)}),0);a(t),o(c)}(e)},v=function(e){var t=u.filter((function(t){return t.name!==e}));f(t),window.dispatchEvent(new Event("cartUpdated"))};return Object(d.useEffect)((function(){return function(){x&&clearTimeout(x)}}),[]),Object(m.jsx)("main",{className:"cart-page",children:Object(m.jsxs)("div",{className:"cart-page__container",children:[Object(m.jsx)(Z,{}),Object(m.jsx)("div",{className:"cart-page__title",children:"Cart"}),u.length>0?Object(m.jsxs)("div",{className:"cart-page__row",children:[Object(m.jsx)("div",{className:"cart-page__column cart-page__column_big",children:u.map((function(e){return Object(m.jsx)(ee,{phone:e,handleDeleteClick:v,updateCart:f},e.id)}))}),Object(m.jsxs)("div",{className:h()({"cart-page__column":!0,"cart-page__column_small":!0,"column-cart":!0}),children:[Object(m.jsxs)("div",{className:"column-cart__content",children:[Object(m.jsx)("div",{className:"column-cart__price",children:"$".concat(c)}),Object(m.jsx)("div",{"data-cy":"productQauntity",className:"column-cart__quantity",children:"Total for ".concat(r," items")}),Object(m.jsx)("button",{type:"button",className:"column-cart__checkout",onClick:function(){g(!0),x=setTimeout((function(){g(!1)}),3e3)},children:"Checkout"})]}),_&&Object(m.jsx)("div",{className:"column-cart__content feature-message",children:"We are sorry, but this feature is not implemented yet"})]})]}):Object(m.jsx)(K,{category:"cart"})]})})}),ce=function(){var e=Object(u.l)().pathname;return Object(d.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[e]),null},ae=function(e){var t=e.totalPages,c=e.currentPage,a=e.handlePageChange,n=e.category;return Object(m.jsxs)("div",{"data-cy":"pagination",className:"".concat(n,"-page__pagination"),children:[Object(m.jsx)("button",{type:"button",onClick:function(){return a(c-1)},disabled:1===c,className:"".concat(n,"-page__button"),"data-cy":"paginationLeft",children:"<"}),Array.from({length:t},(function(e,t){var s=t+1;return Object(m.jsx)("button",{type:"button",onClick:function(){return a(s)},className:h()("".concat(n,"-page__button"),{active:c===s}),children:s},t)})),Object(m.jsx)("button",{type:"button",onClick:function(){return a(c+1)},disabled:c===t,className:"".concat(n,"-page__button"),"data-cy":"paginationRight",children:">"})]})},ne=(c(27),function(){var e="phones",t=Object(s.d)(),c=Object(i.a)(t,2),a=c[0],n=c[1],r=Object(d.useState)(a.get("perPage")||"4"),o=Object(i.a)(r,2),l=o[0],j=o[1],u=a.get("query"),b=Object(d.useState)(a.get("sort")||"age"),p=Object(i.a)(b,2),O=p[0],h=p[1],_=Number(a.get("page")||"1"),g=Object(d.useState)(_),x=Object(i.a)(g,2),f=x[0],v=x[1],N=Object(d.useContext)(H),y=Object(d.useCallback)((function(e){h(e.target.value)}),[]),A=Object(d.useCallback)((function(e){j(e.target.value),v(1)}),[]),S=Object(d.useCallback)((function(e){v(e),n(I(a,{page:e.toString()}))}),[a,n]),k=Object(d.useCallback)((function(e){if("All"===l)return e;var t=(f-1)*parseInt(l,10);return e.slice(t,t+parseInt(l,10))}),[l,f]),C=Object(d.useMemo)((function(){return N.filter((function(t){return t.category===e&&(null===u||""===u||t.name.toLowerCase().includes(u.toLowerCase()))}))}),[N,u,e]),w=Object(d.useMemo)((function(){return E(C,a.get("sort")||"age")}),[C,a]),P=Object(d.useMemo)((function(){return k(w)}),[k,w]),J=Object(d.useMemo)((function(){return"All"===l?1:Math.ceil(w.length/parseInt(l,10))}),[l,w]);return Object(d.useEffect)((function(){a.get("sort")||n(I(a,{sort:"age"}))}),[]),Object(d.useEffect)((function(){f!==_&&v(_)}),[_]),Object(d.useEffect)((function(){a.set("sort",O),a.set("perPage",l),n(a)}),[O,l,a,n]),Object(m.jsx)("main",{className:"".concat(e,"-page"),children:Object(m.jsxs)("div",{className:"".concat(e,"-page__container"),children:[Object(m.jsx)(Q,{productType:e}),Object(m.jsx)("h1",{className:"".concat(e,"-page__title"),children:e.slice(0,1).toUpperCase()+e.slice(1)}),Object(m.jsx)("p",{className:"".concat(e,"-page__subtitle"),children:"".concat(w.length," models")}),w.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"".concat(e,"-page__navigation-filter"),children:[Object(m.jsxs)("div",{className:"".concat(e,"-page__sort-by"),children:[Object(m.jsx)("label",{className:"".concat(e,"-page__label"),htmlFor:"sort-by",children:"Sort by:"}),Object(m.jsxs)("select",{className:"".concat(e,"-page__select"),id:"sort-by",name:"sort-by",onChange:y,value:O,children:[Object(m.jsx)("option",{value:"age",children:"Newest"}),Object(m.jsx)("option",{value:"price",children:"Cheapest"}),Object(m.jsx)("option",{value:"name",children:"Alphabetically"})]})]}),Object(m.jsxs)("div",{className:"".concat(e,"-page__items-per-page"),children:[Object(m.jsx)("label",{className:"".concat(e,"-page__label"),htmlFor:"items-per-page",children:"Items per page:"}),Object(m.jsxs)("select",{className:"".concat(e,"-page__select"),id:"items-per-page",name:"items-per-page",onChange:A,value:l,children:[Object(m.jsx)("option",{value:"4",children:"4"}),Object(m.jsx)("option",{value:"8",children:"8"}),Object(m.jsx)("option",{value:"16",children:"16"}),Object(m.jsx)("option",{value:"All",children:"All"})]})]})]}),Object(m.jsx)("div",{"data-cy":"productList",className:"".concat(e,"-page__row"),children:null===P||void 0===P?void 0:P.map((function(e){return Object(m.jsx)(L,{card:e},e.id)}))}),"All"!==l&&Object(m.jsx)(ae,{totalPages:J,currentPage:f,handlePageChange:S,category:e})]}):Object(m.jsx)(K,{category:e})]})})}),se=function(){var e="tablets",t=Object(s.d)(),c=Object(i.a)(t,2),a=c[0],n=c[1],r=a.get("perPage")||"4",o=a.get("query"),l=Number(a.get("page")||"1"),j=Object(d.useState)(l),u=Object(i.a)(j,2),b=u[0],p=u[1],O=Object(d.useContext)(H),h=Object(d.useCallback)((function(e){var t=e.target.value;a.set("sort",t),n(a)}),[a,n]),_=Object(d.useCallback)((function(e){var t=e.target.value;a.set("perPage",t),a.set("page","1"),n(a),p(1)}),[a,n]),g=Object(d.useCallback)((function(e){p(e),n(I(a,{page:e.toString()}))}),[a,n]),x=Object(d.useCallback)((function(e){if("All"===r)return e;var t=(b-1)*parseInt(r,10);return e.slice(t,t+parseInt(r,10))}),[r,b]),f=Object(d.useMemo)((function(){return O.filter((function(t){return t.category===e&&(null===o||""===o||t.name.toLowerCase().includes(o.toLowerCase()))}))}),[O,o,e]),v=Object(d.useMemo)((function(){return E(f,a.get("sort")||"age")}),[f,a]),N=Object(d.useMemo)((function(){return x(v)}),[x,v]),y=Object(d.useMemo)((function(){return"All"===r?1:Math.ceil(v.length/parseInt(r,10))}),[r,v]);return Object(d.useEffect)((function(){a.get("sort")||n(I(a,{sort:"age"}))}),[]),Object(d.useEffect)((function(){b!==l&&p(l)}),[l]),Object(m.jsx)("main",{className:"".concat(e,"-page"),children:Object(m.jsxs)("div",{className:"".concat(e,"-page__container"),children:[Object(m.jsx)(Q,{productType:e}),Object(m.jsx)("h1",{className:"".concat(e,"-page__title"),children:e.slice(0,1).toUpperCase()+e.slice(1)}),Object(m.jsx)("p",{className:"".concat(e,"-page__subtitle"),children:"".concat(v.length," models")}),v.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"".concat(e,"-page__navigation-filter"),children:[Object(m.jsxs)("div",{className:"".concat(e,"-page__sort-by"),children:[Object(m.jsx)("label",{className:"".concat(e,"-page__label"),htmlFor:"sort-by",children:"Sort by:"}),Object(m.jsxs)("select",{className:"".concat(e,"-page__select"),id:"sort-by",name:"sort-by",onChange:h,children:[Object(m.jsx)("option",{value:"age",children:"Newest"}),Object(m.jsx)("option",{value:"price",children:"Cheapest"}),Object(m.jsx)("option",{value:"name",children:"Alphabetically"})]})]}),Object(m.jsxs)("div",{className:"".concat(e,"-page__items-per-page"),children:[Object(m.jsx)("label",{className:"".concat(e,"-page__label"),htmlFor:"items-per-page",children:"Items per page:"}),Object(m.jsxs)("select",{className:"".concat(e,"-page__select"),id:"items-per-page",name:"items-per-page",onChange:_,value:r,children:[Object(m.jsx)("option",{value:"4",children:"4"}),Object(m.jsx)("option",{value:"8",children:"8"}),Object(m.jsx)("option",{value:"16",children:"16"}),Object(m.jsx)("option",{value:"All",children:"All"})]})]})]}),Object(m.jsx)("div",{"data-cy":"productList",className:"".concat(e,"-page__row"),children:null===N||void 0===N?void 0:N.map((function(e){return Object(m.jsx)(L,{card:e},e.id)}))}),"All"!==r&&Object(m.jsx)(ae,{totalPages:y,currentPage:b,handlePageChange:g,category:e})]}):Object(m.jsx)(K,{category:e})]})})},re=function(){var e="accessories",t=Object(s.d)(),c=Object(i.a)(t,2),a=c[0],n=c[1],r=a.get("perPage")||"4",o=a.get("query"),l=Number(a.get("page")||"1"),j=Object(d.useState)(l),u=Object(i.a)(j,2),b=u[0],p=u[1],O=Object(d.useContext)(H),h=Object(d.useCallback)((function(e){var t=e.target.value;a.set("sort",t),n(a)}),[a,n]),_=Object(d.useCallback)((function(e){var t=e.target.value;a.set("perPage",t),a.set("page","1"),n(a),p(1)}),[a,n]),g=Object(d.useCallback)((function(e){p(e),n(I(a,{page:e.toString()}))}),[a,n]),x=Object(d.useCallback)((function(e){if("All"===r)return e;var t=(b-1)*parseInt(r,10);return e.slice(t,t+parseInt(r,10))}),[r,b]),f=Object(d.useMemo)((function(){return O.filter((function(t){return t.category===e&&(null===o||""===o||t.name.toLowerCase().includes(o.toLowerCase()))}))}),[O,o,e]),v=Object(d.useMemo)((function(){return E(f,a.get("sort")||"age")}),[f,a]),N=Object(d.useMemo)((function(){return x(v)}),[x,v]),y=Object(d.useMemo)((function(){return"All"===r?1:Math.ceil(v.length/parseInt(r,10))}),[r,v]);return Object(d.useEffect)((function(){a.get("sort")||n(I(a,{sort:"age"}))}),[]),Object(d.useEffect)((function(){b!==l&&p(l)}),[l]),Object(m.jsx)("main",{className:"".concat(e,"-page"),children:Object(m.jsxs)("div",{className:"".concat(e,"-page__container"),children:[Object(m.jsx)(Q,{productType:e}),Object(m.jsx)("h1",{className:"".concat(e,"-page__title"),children:e.slice(0,1).toUpperCase()+e.slice(1)}),Object(m.jsx)("p",{className:"".concat(e,"-page__subtitle"),children:"".concat(v.length," models")}),v.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"".concat(e,"-page__navigation-filter"),children:[Object(m.jsxs)("div",{className:"".concat(e,"-page__sort-by"),children:[Object(m.jsx)("label",{className:"".concat(e,"-page__label"),htmlFor:"sort-by",children:"Sort by:"}),Object(m.jsxs)("select",{className:"".concat(e,"-page__select"),id:"sort-by",name:"sort-by",onChange:h,children:[Object(m.jsx)("option",{value:"age",children:"Newest"}),Object(m.jsx)("option",{value:"price",children:"Cheapest"}),Object(m.jsx)("option",{value:"name",children:"Alphabetically"})]})]}),Object(m.jsxs)("div",{className:"".concat(e,"-page__items-per-page"),children:[Object(m.jsx)("label",{className:"".concat(e,"-page__label"),htmlFor:"items-per-page",children:"Items per page:"}),Object(m.jsxs)("select",{className:"".concat(e,"-page__select"),id:"items-per-page",name:"items-per-page",onChange:_,value:r,children:[Object(m.jsx)("option",{value:"4",children:"4"}),Object(m.jsx)("option",{value:"8",children:"8"}),Object(m.jsx)("option",{value:"16",children:"16"}),Object(m.jsx)("option",{value:"All",children:"All"})]})]})]}),Object(m.jsx)("div",{"data-cy":"productList",className:"".concat(e,"-page__row"),children:null===N||void 0===N?void 0:N.map((function(e){return Object(m.jsx)(L,{card:e},e.id)}))}),"All"!==r&&Object(m.jsx)(ae,{totalPages:y,currentPage:b,handlePageChange:g,category:e})]}):Object(m.jsx)(K,{category:e})]})})},ie=function(){return Object(m.jsx)("main",{className:"phones-page",children:Object(m.jsx)("div",{className:"phones-page__container",children:Object(m.jsx)("p",{children:"Page not found"})})})},oe=function(){var e=Object(d.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(d.useEffect)((function(){function e(){return(e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(N);case 3:t=e.sent,a(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Data could not be fetched");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(ce,{}),Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)(x,{}),Object(m.jsx)(H.Provider,{value:c,children:Object(m.jsxs)(u.d,{children:[Object(m.jsx)(u.b,{path:"/",element:Object(m.jsx)(R,{products:c})}),Object(m.jsxs)(u.b,{path:"phones",children:[Object(m.jsx)(u.b,{index:!0,element:Object(m.jsx)(ne,{})}),Object(m.jsx)(u.b,{path:":productId",element:Object(m.jsx)(W,{products:c})})]}),Object(m.jsxs)(u.b,{path:"tablets",children:[Object(m.jsx)(u.b,{index:!0,element:Object(m.jsx)(se,{})}),Object(m.jsx)(u.b,{path:":productId",element:Object(m.jsx)(W,{products:c})})]}),Object(m.jsxs)(u.b,{path:"accessories",children:[Object(m.jsx)(u.b,{index:!0,element:Object(m.jsx)(re,{})}),Object(m.jsx)(u.b,{path:":productId",element:Object(m.jsx)(W,{products:c})})]}),Object(m.jsx)(u.b,{path:"favourites",element:Object(m.jsx)(G,{})}),Object(m.jsx)(u.b,{path:"cart",element:Object(m.jsx)(te,{})}),Object(m.jsx)(u.b,{path:"*",element:Object(m.jsx)(ie,{})}),Object(m.jsx)(u.b,{path:"home",element:Object(m.jsx)(u.a,{to:"/",replace:!0})})]})}),Object(m.jsx)(p,{})]})]})};n.a.render(Object(m.jsx)(s.a,{children:Object(m.jsx)(oe,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.290e5db3.chunk.js.map